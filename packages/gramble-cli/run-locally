#!/usr/bin/env node

const { spawnSync } = require('child_process');
const { join, resolve } = require('path');

let [_node, _script, ...args] = process.argv;

// ts-node-script needs to be accessible on the PATH:
let binPath = resolve(join(__dirname, 'node_modules', '.bin'));
process.env.PATH = `${binPath}:${process.env.PATH}`

let exit = spawnSync(join(__dirname, 'src', 'commandLine.ts'), args, {
  stdio: 'inherit'
});

if (exit.status) {
  process.exit(exit.status);
} else if (exit.signal) {
  console.error(`Child process died with signal ${exit.signal}`);
  process.exit(-1);
}

/* vim: set ft=javascript :*/
